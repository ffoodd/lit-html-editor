# Lit Html Editor

Rich text editor built with [Lit](https://lit.dev) based on [this](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Editable_content#example_a_simple_but_complete_rich_text_editor) example.

You can try the demo [here](https://rodydavis.github.io/lit-html-editor/)!

This used the contenteditable property that browsers support for full document editing and text formatting.

![](/screenshot.png)

There is also an example on the Lit playground [here](https://lit.dev/playground/#project=W3sibmFtZSI6InJpY2gtdGV4dC1lZGl0b3IudHMiLCJjb250ZW50IjoiaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCwgY3VzdG9tRWxlbWVudCwgY3NzLCBzdGF0ZSB9IGZyb20gXCJsaXQtZWxlbWVudFwiO1xuXG5pbXBvcnQgXCJAbWF0ZXJpYWwvbXdjLWljb24tYnV0dG9uXCI7XG5cbkBjdXN0b21FbGVtZW50KFwicmljaC10ZXh0LWVkaXRvclwiKVxuZXhwb3J0IGNsYXNzIFJpY2hUZXh0RWRpdG9yIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBzdGF0ZSgpIGNvbnRlbnQ6IHN0cmluZyA9IFwiXCI7XG4gIEBzdGF0ZSgpIHJvb3Q6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICBzdGF0aWMgc3R5bGVzID0gY3NzYFxuICAgIDpob3N0IHtcbiAgICAgIC0tZWRpdG9yLXdpZHRoOiA2MDBweDtcbiAgICAgIC0tZWRpdG9yLWhlaWdodDogNjAwcHg7XG4gICAgICAtLWVkaXRvci1iYWNrZ3JvdW5kOiAjZjFmMWYxO1xuICAgICAgLS1lZGl0b3ItdG9vbGJhci1oZWlnaHQ6IDMzcHg7XG4gICAgICAtLWVkaXRvci10b29sYmFyLWJhY2tncm91bmQ6IGJsYWNrO1xuICAgICAgLS1lZGl0b3ItdG9vbGJhci1vbi1iYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgIC0tZWRpdG9yLXRvb2xiYXItb24tYWN0aXZlLWJhY2tncm91bmQ6ICNhNGE0YTQ7XG4gICAgfVxuICAgIG1haW4ge1xuICAgICAgd2lkdGg6IHZhcigtLWVkaXRvci13aWR0aCk7XG4gICAgICBoZWlnaHQ6IHZhcigtLWVkaXRvci1oZWlnaHQpO1xuICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgIGdyaWQtdGVtcGxhdGUtYXJlYXM6XG4gICAgICAgIFwidG9vbGJhciB0b29sYmFyXCJcbiAgICAgICAgXCJlZGl0b3IgZWRpdG9yXCI7XG4gICAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHZhcigtLWVkaXRvci10b29sYmFyLWhlaWdodCkgYXV0bztcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0byBhdXRvO1xuICAgIH1cbiAgICAjZWRpdG9yLWFjdGlvbnMge1xuICAgICAgZ3JpZC1hcmVhOiB0b29sYmFyO1xuICAgICAgd2lkdGg6IHZhcigtLWVkaXRvci13aWR0aCk7XG4gICAgICBoZWlnaHQ6IHZhcigtLWVkaXRvci10b29sYmFyLWhlaWdodCk7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1lZGl0b3ItdG9vbGJhci1iYWNrZ3JvdW5kKTtcbiAgICAgIGNvbG9yOiB2YXIoLS1lZGl0b3ItdG9vbGJhci1vbi1iYWNrZ3JvdW5kKTtcbiAgICAgIG92ZXJzY3JvbGwtYmVoYXZpb3I6IGNvbnRhaW47XG4gICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgLW1zLW92ZXJmbG93LXN0eWxlOiBub25lO1xuICAgICAgc2Nyb2xsYmFyLXdpZHRoOiBub25lO1xuICAgIH1cbiAgICAjZWRpdG9yLWFjdGlvbnM6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgICNlZGl0b3Ige1xuICAgICAgd2lkdGg6IHZhcigtLWVkaXRvci13aWR0aCk7XG4gICAgICBncmlkLWFyZWE6IGVkaXRvcjtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWVkaXRvci1iYWNrZ3JvdW5kKTtcbiAgICB9XG4gICAgI3Rvb2xiYXIge1xuICAgICAgd2lkdGg6IDEwODBweDtcbiAgICAgIGhlaWdodDogdmFyKC0tZWRpdG9yLXRvb2xiYXItaGVpZ2h0KTtcbiAgICB9XG4gICAgW2NvbnRlbnRlZGl0YWJsZV0ge1xuICAgICAgb3V0bGluZTogMHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIH1cbiAgICAjdG9vbGJhciA-IG13Yy1pY29uLWJ1dHRvbiB7XG4gICAgICBjb2xvcjogdmFyKC0tZWRpdG9yLXRvb2xiYXItb24tYmFja2dyb3VuZCk7XG4gICAgICAtLW1kYy1pY29uLXNpemU6IDIwcHg7XG4gICAgICAtLW1kYy1pY29uLWJ1dHRvbi1zaXplOiAzMHB4O1xuICAgIH1cbiAgICAjdG9vbGJhciA-IC5hY3RpdmUge1xuICAgICAgY29sb3I6IHZhcigtLWVkaXRvci10b29sYmFyLW9uLWFjdGl2ZS1iYWNrZ3JvdW5kKTtcbiAgICB9XG4gICAgc2VsZWN0IHtcbiAgICAgIG1hcmdpbi10b3A6IDVweDtcbiAgICAgIGhlaWdodDogY2FsYyh2YXIoLS1lZGl0b3ItdG9vbGJhci1oZWlnaHQpIC0gMTBweCk7XG4gICAgfVxuICAgIGlucHV0W3R5cGU9XCJjb2xvclwiXSB7XG4gICAgICBoZWlnaHQ6IGNhbGModmFyKC0tZWRpdG9yLXRvb2xiYXItaGVpZ2h0KSAtIDE1cHgpO1xuICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgd2lkdGg6IDIycHg7XG4gICAgfVxuICAgIGlucHV0W3R5cGU9XCJjb2xvclwiXTo6LXdlYmtpdC1jb2xvci1zd2F0Y2gtd3JhcHBlciB7XG4gICAgICBwYWRkaW5nOiAwO1xuICAgIH1cbiAgICBpbnB1dFt0eXBlPVwiY29sb3JcIl06Oi13ZWJraXQtY29sb3Itc3dhdGNoIHtcbiAgICAgIGJvcmRlcjogbm9uZTtcbiAgICB9XG4gIGA7XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYDxtYWluPlxuICAgICAgPGlucHV0IGlkPVwiYmdcIiB0eXBlPVwiY29sb3JcIiBoaWRkZW4gLz5cbiAgICAgIDxpbnB1dCBpZD1cImZnXCIgdHlwZT1cImNvbG9yXCIgaGlkZGVuIC8-XG4gICAgICA8ZGl2IGlkPVwiZWRpdG9yLWFjdGlvbnNcIj5cbiAgICAgICAgPGRpdiBpZD1cInRvb2xiYXJcIj5cbiAgICAgICAgICAke3Rvb2xiYXIodGhpcy5zaGFkb3dSb290ISwgdGhpcy5nZXRTZWxlY3Rpb24oKSwgKGNvbW1hbmQsIHZhbCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoY29tbWFuZCwgZmFsc2UsIHZhbCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNvbW1hbmRcIiwgY29tbWFuZCwgdmFsKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY-XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgaWQ9XCJlZGl0b3JcIj4ke3RoaXMucm9vdH08L2Rpdj5cbiAgICA8L21haW4-IGA7XG4gIH1cblxuICBhc3luYyBmaXJzdFVwZGF0ZWQoKSB7XG4gICAgY29uc3QgZWxlbSA9IHRoaXMucGFyZW50RWxlbWVudCEucXVlcnlTZWxlY3RvcihcInJpY2gtdGV4dC1lZGl0b3IgdGVtcGxhdGVcIik7XG4gICAgdGhpcy5jb250ZW50ID0gZWxlbT8uaW5uZXJIVE1MID8_IFwiXCI7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgIGNvbnN0IGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcodGhpcy5jb250ZW50LCBcInRleHQvaHRtbFwiKTtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZChcImRlZmF1bHRQYXJhZ3JhcGhTZXBhcmF0b3JcIiwgZmFsc2UsIFwiYnJcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICB9KTtcbiAgICBjb25zdCByb290ID0gZG9jLnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xuICAgIHJvb3QhLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCBcInRydWVcIik7XG4gICAgdGhpcy5yb290ID0gcm9vdDtcbiAgfVxuXG4gIGdldFNlbGVjdGlvbigpOiBTZWxlY3Rpb24gfCBudWxsIHtcbiAgICBpZiAodGhpcy5zaGFkb3dSb290Py5nZXRTZWxlY3Rpb24pIHJldHVybiB0aGlzLnNoYWRvd1Jvb3Q_LmdldFNlbGVjdGlvbigpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRvb2xiYXIoXG4gIHNoYWRvd1Jvb3Q6IFNoYWRvd1Jvb3QsXG4gIHNlbGVjdGlvbjogU2VsZWN0aW9uIHwgbnVsbCxcbiAgY29tbWFuZDogKGM6IHN0cmluZywgdmFsOiBzdHJpbmcgfCB1bmRlZmluZWQpID0-IHZvaWRcbikge1xuICBjb25zdCB0YWdzOiBzdHJpbmdbXSA9IFtdO1xuICBpZiAoc2VsZWN0aW9uPy50eXBlID09PSBcIlJhbmdlXCIpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgbGV0IHBhcmVudE5vZGUgPSBzZWxlY3Rpb24_LmJhc2VOb2RlO1xuICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICBjb25zdCBjaGVja05vZGUgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcmVudFRhZ05hbWUgPSBwYXJlbnROb2RlPy50YWdOYW1lPy50b0xvd2VyQ2FzZSgpPy50cmltKCk7XG4gICAgICAgIGlmIChwYXJlbnRUYWdOYW1lKSB0YWdzLnB1c2gocGFyZW50VGFnTmFtZSk7XG4gICAgICB9O1xuICAgICAgd2hpbGUgKHBhcmVudE5vZGUgIT0gbnVsbCkge1xuICAgICAgICBjaGVja05vZGUoKTtcbiAgICAgICAgcGFyZW50Tm9kZSA9IHBhcmVudE5vZGU_LnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY29tbWFuZHM6IHtcbiAgICBpY29uOiBzdHJpbmc7XG4gICAgY29tbWFuZDogc3RyaW5nIHwgKCgpID0-IHZvaWQpO1xuICAgIGFjdGl2ZT86IGJvb2xlYW47XG4gICAgdHlwZT86IHN0cmluZztcbiAgICB2YWx1ZXM_OiB7IHZhbHVlOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgZm9udD86IGJvb2xlYW4gfVtdO1xuICAgIGNvbW1hbmRfdmFsdWU_OiBzdHJpbmc7XG4gIH1bXSA9IFtcbiAgICB7XG4gICAgICBpY29uOiBcImZvcm1hdF9jbGVhclwiLFxuICAgICAgY29tbWFuZDogXCJyZW1vdmVGb3JtYXRcIixcbiAgICB9LFxuXG4gICAge1xuICAgICAgaWNvbjogXCJmb3JtYXRfYm9sZFwiLFxuICAgICAgY29tbWFuZDogXCJib2xkXCIsXG4gICAgICBhY3RpdmU6IHRhZ3MuaW5jbHVkZXMoXCJiXCIpLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogXCJmb3JtYXRfaXRhbGljXCIsXG4gICAgICBjb21tYW5kOiBcIml0YWxpY1wiLFxuICAgICAgYWN0aXZlOiB0YWdzLmluY2x1ZGVzKFwiaVwiKSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwiZm9ybWF0X3VuZGVybGluZWRcIixcbiAgICAgIGNvbW1hbmQ6IFwidW5kZXJsaW5lXCIsXG4gICAgICBhY3RpdmU6IHRhZ3MuaW5jbHVkZXMoXCJ1XCIpLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogXCJmb3JtYXRfYWxpZ25fbGVmdFwiLFxuICAgICAgY29tbWFuZDogXCJqdXN0aWZ5bGVmdFwiLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogXCJmb3JtYXRfYWxpZ25fY2VudGVyXCIsXG4gICAgICBjb21tYW5kOiBcImp1c3RpZnljZW50ZXJcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwiZm9ybWF0X2FsaWduX3JpZ2h0XCIsXG4gICAgICBjb21tYW5kOiBcImp1c3RpZnlyaWdodFwiLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogXCJmb3JtYXRfbGlzdF9udW1iZXJlZFwiLFxuICAgICAgY29tbWFuZDogXCJpbnNlcnRvcmRlcmVkbGlzdFwiLFxuICAgICAgYWN0aXZlOiB0YWdzLmluY2x1ZGVzKFwib2xcIiksXG4gICAgfSxcbiAgICB7XG4gICAgICBpY29uOiBcImZvcm1hdF9saXN0X2J1bGxldGVkXCIsXG4gICAgICBjb21tYW5kOiBcImluc2VydHVub3JkZXJlZGxpc3RcIixcbiAgICAgIGFjdGl2ZTogdGFncy5pbmNsdWRlcyhcInVsXCIpLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogXCJmb3JtYXRfcXVvdGVcIixcbiAgICAgIGNvbW1hbmQ6IFwiZm9ybWF0YmxvY2tcIixcbiAgICAgIGNvbW1hbmRfdmFsdWU6IFwiYmxvY2txdW90ZVwiLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogXCJmb3JtYXRfaW5kZW50X2RlY3JlYXNlXCIsXG4gICAgICBjb21tYW5kOiBcIm91dGRlbnRcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwiZm9ybWF0X2luZGVudF9pbmNyZWFzZVwiLFxuICAgICAgY29tbWFuZDogXCJpbmRlbnRcIixcbiAgICB9LFxuICAgIHRhZ3MuaW5jbHVkZXMoXCJhXCIpXG4gICAgICA_IHsgaWNvbjogXCJsaW5rX29mZlwiLCBjb21tYW5kOiBcInVubGlua1wiIH1cbiAgICAgIDoge1xuICAgICAgICAgIGljb246IFwiYWRkX2xpbmtcIixcbiAgICAgICAgICBjb21tYW5kOiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdMaW5rID0gcHJvbXB0KFwiV3JpdGUgdGhlIFVSTCBoZXJlXCIsIFwiaHR0cDovL1wiKTtcbiAgICAgICAgICAgIGlmIChuZXdMaW5rICYmIG5ld0xpbmsgIT0gXCJcIiAmJiBuZXdMaW5rICE9IFwiaHR0cDovL1wiKSB7XG4gICAgICAgICAgICAgIGNvbW1hbmQoXCJjcmVhdGVsaW5rXCIsIG5ld0xpbmspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogXCJmb3JtYXRfY29sb3JfdGV4dFwiLFxuICAgICAgY29tbWFuZDogKCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcIiNmZ1wiKSEgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBcImlucHV0XCIsXG4gICAgICAgICAgKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICBjb21tYW5kKFwiZm9yZWNvbG9yXCIsIHZhbCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgICAgICBpbnB1dC5jbGljaygpO1xuICAgICAgfSxcbiAgICAgIHR5cGU6IFwiY29sb3JcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwiYm9yZGVyX2NvbG9yXCIsXG4gICAgICBjb21tYW5kOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiI2JnXCIpISBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgIFwiaW5wdXRcIixcbiAgICAgICAgICAoZTogYW55KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWwgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIGNvbW1hbmQoXCJiYWNrY29sb3JcIiwgdmFsKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgICAgIGlucHV0LmNsaWNrKCk7XG4gICAgICB9LFxuICAgICAgdHlwZTogXCJjb2xvclwiLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogXCJ0aXRsZVwiLFxuICAgICAgY29tbWFuZDogXCJmb3JtYXRibG9ja1wiLFxuICAgICAgdmFsdWVzOiBbXG4gICAgICAgIHsgbmFtZTogXCJOb3JtYWwgVGV4dFwiLCB2YWx1ZTogXCItLVwiIH0sXG4gICAgICAgIHsgbmFtZTogXCJIZWFkaW5nIDFcIiwgdmFsdWU6IFwiaDFcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiSGVhZGluZyAyXCIsIHZhbHVlOiBcImgyXCIgfSxcbiAgICAgICAgeyBuYW1lOiBcIkhlYWRpbmcgM1wiLCB2YWx1ZTogXCJoM1wiIH0sXG4gICAgICAgIHsgbmFtZTogXCJIZWFkaW5nIDRcIiwgdmFsdWU6IFwiaDRcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiSGVhZGluZyA1XCIsIHZhbHVlOiBcImg1XCIgfSxcbiAgICAgICAgeyBuYW1lOiBcIkhlYWRpbmcgNlwiLCB2YWx1ZTogXCJoNlwiIH0sXG4gICAgICAgIHsgbmFtZTogXCJQYXJhZ3JhcGhcIiwgdmFsdWU6IFwicFwiIH0sXG4gICAgICAgIHsgbmFtZTogXCJQcmUtRm9ybWF0dGVkXCIsIHZhbHVlOiBcInByZVwiIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogXCJ0ZXh0X2Zvcm1hdFwiLFxuICAgICAgY29tbWFuZDogXCJmb250bmFtZVwiLFxuICAgICAgdmFsdWVzOiBbXG4gICAgICAgIHsgbmFtZTogXCJGb250IE5hbWVcIiwgdmFsdWU6IFwiLS1cIiB9LFxuICAgICAgICAuLi5bLi4uY2hlY2tGb250cygpXS5tYXAoKGYpID0-ICh7XG4gICAgICAgICAgbmFtZTogZixcbiAgICAgICAgICB2YWx1ZTogZixcbiAgICAgICAgICBmb250OiB0cnVlLFxuICAgICAgICB9KSksXG4gICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogXCJmb3JtYXRfc2l6ZVwiLFxuICAgICAgY29tbWFuZDogXCJmb250c2l6ZVwiLFxuICAgICAgdmFsdWVzOiBbXG4gICAgICAgIHsgbmFtZTogXCJGb250IFNpemVcIiwgdmFsdWU6IFwiLS1cIiB9LFxuICAgICAgICB7IG5hbWU6IFwiVmVyeSBTbWFsbFwiLCB2YWx1ZTogXCIxXCIgfSxcbiAgICAgICAgeyBuYW1lOiBcIlNtYWxsXCIsIHZhbHVlOiBcIjJcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiTm9ybWFsXCIsIHZhbHVlOiBcIjNcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiTWVkaXVtIExhcmdlXCIsIHZhbHVlOiBcIjRcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiTGFyZ2VcIiwgdmFsdWU6IFwiNVwiIH0sXG4gICAgICAgIHsgbmFtZTogXCJWZXJ5IExhcmdlXCIsIHZhbHVlOiBcIjZcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiTWF4aW11bVwiLCB2YWx1ZTogXCI3XCIgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpY29uOiBcInVuZG9cIixcbiAgICAgIGNvbW1hbmQ6IFwidW5kb1wiLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogXCJyZWRvXCIsXG4gICAgICBjb21tYW5kOiBcInJlZG9cIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwiY29udGVudF9jdXRcIixcbiAgICAgIGNvbW1hbmQ6IFwiY3V0XCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBpY29uOiBcImNvbnRlbnRfY29weVwiLFxuICAgICAgY29tbWFuZDogXCJjb3B5XCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBpY29uOiBcImNvbnRlbnRfcGFzdGVcIixcbiAgICAgIGNvbW1hbmQ6IFwicGFzdGVcIixcbiAgICB9LFxuICBdO1xuXG4gIHJldHVybiBodG1sYFxuICAgICR7Y29tbWFuZHMubWFwKChuKSA9PiB7XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgJHtuLnZhbHVlc1xuICAgICAgICAgID8gaHRtbGAgPHNlbGVjdFxuICAgICAgICAgICAgICBpZD1cIiR7bi5pY29ufVwiXG4gICAgICAgICAgICAgIEBjaGFuZ2U9JHsoZTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gXCItLVwiKSB7XG4gICAgICAgICAgICAgICAgICBjb21tYW5kKFwicmVtb3ZlRm9ybWF0XCIsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygbi5jb21tYW5kID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICBjb21tYW5kKG4uY29tbWFuZCwgdmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA-XG4gICAgICAgICAgICAgICR7bi52YWx1ZXMubWFwKFxuICAgICAgICAgICAgICAgICh2KSA9PiBodG1sYCA8b3B0aW9uIHZhbHVlPSR7di52YWx1ZX0-JHt2Lm5hbWV9PC9vcHRpb24-YFxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9zZWxlY3Q-YFxuICAgICAgICAgIDogaHRtbGAgPG13Yy1pY29uLWJ1dHRvblxuICAgICAgICAgICAgICBpY29uPVwiJHtuLmljb259XCJcbiAgICAgICAgICAgICAgY2xhc3M9XCIke24uYWN0aXZlID8gXCJhY3RpdmVcIiA6IFwiaW5hY3RpdmVcIn1cIlxuICAgICAgICAgICAgICBAY2xpY2s9JHsoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG4udmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygbi5jb21tYW5kID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICBjb21tYW5kKG4uY29tbWFuZCwgbi5jb21tYW5kX3ZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgbi5jb21tYW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPjwvbXdjLWljb24tYnV0dG9uPmB9XG4gICAgICBgO1xuICAgIH0pfVxuICBgO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tGb250cygpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGZvbnRDaGVjayA9IG5ldyBTZXQoXG4gICAgW1xuICAgICAgLy8gV2luZG93cyAxMFxuICAgICAgXCJBcmlhbFwiLFxuICAgICAgXCJBcmlhbCBCbGFja1wiLFxuICAgICAgXCJCYWhuc2NocmlmdFwiLFxuICAgICAgXCJDYWxpYnJpXCIsXG4gICAgICBcIkNhbWJyaWFcIixcbiAgICAgIFwiQ2FtYnJpYSBNYXRoXCIsXG4gICAgICBcIkNhbmRhcmFcIixcbiAgICAgIFwiQ29taWMgU2FucyBNU1wiLFxuICAgICAgXCJDb25zb2xhc1wiLFxuICAgICAgXCJDb25zdGFudGlhXCIsXG4gICAgICBcIkNvcmJlbFwiLFxuICAgICAgXCJDb3VyaWVyIE5ld1wiLFxuICAgICAgXCJFYnJpbWFcIixcbiAgICAgIFwiRnJhbmtsaW4gR290aGljIE1lZGl1bVwiLFxuICAgICAgXCJHYWJyaW9sYVwiLFxuICAgICAgXCJHYWR1Z2lcIixcbiAgICAgIFwiR2VvcmdpYVwiLFxuICAgICAgXCJIb2xvTGVucyBNREwyIEFzc2V0c1wiLFxuICAgICAgXCJJbXBhY3RcIixcbiAgICAgIFwiSW5rIEZyZWVcIixcbiAgICAgIFwiSmF2YW5lc2UgVGV4dFwiLFxuICAgICAgXCJMZWVsYXdhZGVlIFVJXCIsXG4gICAgICBcIkx1Y2lkYSBDb25zb2xlXCIsXG4gICAgICBcIkx1Y2lkYSBTYW5zIFVuaWNvZGVcIixcbiAgICAgIFwiTWFsZ3VuIEdvdGhpY1wiLFxuICAgICAgXCJNYXJsZXR0XCIsXG4gICAgICBcIk1pY3Jvc29mdCBIaW1hbGF5YVwiLFxuICAgICAgXCJNaWNyb3NvZnQgSmhlbmdIZWlcIixcbiAgICAgIFwiTWljcm9zb2Z0IE5ldyBUYWkgTHVlXCIsXG4gICAgICBcIk1pY3Jvc29mdCBQaGFnc1BhXCIsXG4gICAgICBcIk1pY3Jvc29mdCBTYW5zIFNlcmlmXCIsXG4gICAgICBcIk1pY3Jvc29mdCBUYWkgTGVcIixcbiAgICAgIFwiTWljcm9zb2Z0IFlhSGVpXCIsXG4gICAgICBcIk1pY3Jvc29mdCBZaSBCYWl0aVwiLFxuICAgICAgXCJNaW5nTGlVLUV4dEJcIixcbiAgICAgIFwiTW9uZ29saWFuIEJhaXRpXCIsXG4gICAgICBcIk1TIEdvdGhpY1wiLFxuICAgICAgXCJNViBCb2xpXCIsXG4gICAgICBcIk15YW5tYXIgVGV4dFwiLFxuICAgICAgXCJOaXJtYWxhIFVJXCIsXG4gICAgICBcIlBhbGF0aW5vIExpbm90eXBlXCIsXG4gICAgICBcIlNlZ29lIE1ETDIgQXNzZXRzXCIsXG4gICAgICBcIlNlZ29lIFByaW50XCIsXG4gICAgICBcIlNlZ29lIFNjcmlwdFwiLFxuICAgICAgXCJTZWdvZSBVSVwiLFxuICAgICAgXCJTZWdvZSBVSSBIaXN0b3JpY1wiLFxuICAgICAgXCJTZWdvZSBVSSBFbW9qaVwiLFxuICAgICAgXCJTZWdvZSBVSSBTeW1ib2xcIixcbiAgICAgIFwiU2ltU3VuXCIsXG4gICAgICBcIlNpdGthXCIsXG4gICAgICBcIlN5bGZhZW5cIixcbiAgICAgIFwiU3ltYm9sXCIsXG4gICAgICBcIlRhaG9tYVwiLFxuICAgICAgXCJUaW1lcyBOZXcgUm9tYW5cIixcbiAgICAgIFwiVHJlYnVjaGV0IE1TXCIsXG4gICAgICBcIlZlcmRhbmFcIixcbiAgICAgIFwiV2ViZGluZ3NcIixcbiAgICAgIFwiV2luZ2RpbmdzXCIsXG4gICAgICBcIll1IEdvdGhpY1wiLFxuICAgICAgLy8gbWFjT1NcbiAgICAgIFwiQW1lcmljYW4gVHlwZXdyaXRlclwiLFxuICAgICAgXCJBbmRhbGUgTW9ub1wiLFxuICAgICAgXCJBcmlhbFwiLFxuICAgICAgXCJBcmlhbCBCbGFja1wiLFxuICAgICAgXCJBcmlhbCBOYXJyb3dcIixcbiAgICAgIFwiQXJpYWwgUm91bmRlZCBNVCBCb2xkXCIsXG4gICAgICBcIkFyaWFsIFVuaWNvZGUgTVNcIixcbiAgICAgIFwiQXZlbmlyXCIsXG4gICAgICBcIkF2ZW5pciBOZXh0XCIsXG4gICAgICBcIkF2ZW5pciBOZXh0IENvbmRlbnNlZFwiLFxuICAgICAgXCJCYXNrZXJ2aWxsZVwiLFxuICAgICAgXCJCaWcgQ2FzbG9uXCIsXG4gICAgICBcIkJvZG9uaSA3MlwiLFxuICAgICAgXCJCb2RvbmkgNzIgT2xkc3R5bGVcIixcbiAgICAgIFwiQm9kb25pIDcyIFNtYWxsY2Fwc1wiLFxuICAgICAgXCJCcmFkbGV5IEhhbmRcIixcbiAgICAgIFwiQnJ1c2ggU2NyaXB0IE1UXCIsXG4gICAgICBcIkNoYWxrYm9hcmRcIixcbiAgICAgIFwiQ2hhbGtib2FyZCBTRVwiLFxuICAgICAgXCJDaGFsa2R1c3RlclwiLFxuICAgICAgXCJDaGFydGVyXCIsXG4gICAgICBcIkNvY2hpblwiLFxuICAgICAgXCJDb21pYyBTYW5zIE1TXCIsXG4gICAgICBcIkNvcHBlcnBsYXRlXCIsXG4gICAgICBcIkNvdXJpZXJcIixcbiAgICAgIFwiQ291cmllciBOZXdcIixcbiAgICAgIFwiRGlkb3RcIixcbiAgICAgIFwiRElOIEFsdGVybmF0ZVwiLFxuICAgICAgXCJESU4gQ29uZGVuc2VkXCIsXG4gICAgICBcIkZ1dHVyYVwiLFxuICAgICAgXCJHZW5ldmFcIixcbiAgICAgIFwiR2VvcmdpYVwiLFxuICAgICAgXCJHaWxsIFNhbnNcIixcbiAgICAgIFwiSGVsdmV0aWNhXCIsXG4gICAgICBcIkhlbHZldGljYSBOZXVlXCIsXG4gICAgICBcIkhlcmN1bGFudW1cIixcbiAgICAgIFwiSG9lZmxlciBUZXh0XCIsXG4gICAgICBcIkltcGFjdFwiLFxuICAgICAgXCJMdWNpZGEgR3JhbmRlXCIsXG4gICAgICBcIkx1bWluYXJpXCIsXG4gICAgICBcIk1hcmtlciBGZWx0XCIsXG4gICAgICBcIk1lbmxvXCIsXG4gICAgICBcIk1pY3Jvc29mdCBTYW5zIFNlcmlmXCIsXG4gICAgICBcIk1vbmFjb1wiLFxuICAgICAgXCJOb3Rld29ydGh5XCIsXG4gICAgICBcIk9wdGltYVwiLFxuICAgICAgXCJQYWxhdGlub1wiLFxuICAgICAgXCJQYXB5cnVzXCIsXG4gICAgICBcIlBob3NwaGF0ZVwiLFxuICAgICAgXCJSb2Nrd2VsbFwiLFxuICAgICAgXCJTYXZveWUgTEVUXCIsXG4gICAgICBcIlNpZ25QYWludGVyXCIsXG4gICAgICBcIlNraWFcIixcbiAgICAgIFwiU25lbGwgUm91bmRoYW5kXCIsXG4gICAgICBcIlRhaG9tYVwiLFxuICAgICAgXCJUaW1lc1wiLFxuICAgICAgXCJUaW1lcyBOZXcgUm9tYW5cIixcbiAgICAgIFwiVHJhdHRhdGVsbG9cIixcbiAgICAgIFwiVHJlYnVjaGV0IE1TXCIsXG4gICAgICBcIlZlcmRhbmFcIixcbiAgICAgIFwiWmFwZmlub1wiLFxuICAgIF0uc29ydCgpXG4gICk7XG4gIGNvbnN0IGZvbnRBdmFpbGFibGUgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgLy8gQHRzLWlnbm9yZVxuICBmb3IgKGNvbnN0IGZvbnQgb2YgZm9udENoZWNrLnZhbHVlcygpKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmIChkb2N1bWVudC5mb250cy5jaGVjayhgMTJweCBcIiR7Zm9udH1cImApKSB7XG4gICAgICBmb250QXZhaWxhYmxlLmFkZChmb250KTtcbiAgICB9XG4gIH1cbiAgLy8gQHRzLWlnbm9yZVxuICByZXR1cm4gZm9udEF2YWlsYWJsZS52YWx1ZXMoKTtcbn1cbiJ9LHsibmFtZSI6ImluZGV4Lmh0bWwiLCJjb250ZW50IjoiPCFET0NUWVBFIGh0bWw-XG48aHRtbCBsYW5nPVwiZW5cIj5cbiAgPGhlYWQ-XG4gICAgPG1ldGEgY2hhcnNldD1cIlVURi04XCIgLz5cbiAgICA8bGluayByZWw9XCJpY29uXCIgdHlwZT1cImltYWdlL3N2Zyt4bWxcIiBocmVmPVwiL3NyYy9mYXZpY29uLnN2Z1wiIC8-XG4gICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcIiAvPlxuICAgIDxsaW5rXG4gICAgICBocmVmPVwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M_ZmFtaWx5PU1hdGVyaWFsK0ljb25zJmRpc3BsYXk9YmxvY2tcIlxuICAgICAgcmVsPVwic3R5bGVzaGVldFwiXG4gICAgLz5cbiAgICA8dGl0bGU-TGl0IEhUTUwgRWRpdG9yPC90aXRsZT5cbiAgICA8c2NyaXB0IHR5cGU9XCJtb2R1bGVcIiBzcmM9XCIuL3JpY2gtdGV4dC1lZGl0b3IuanNcIj48L3NjcmlwdD5cbiAgICA8c3R5bGU-XG4gICAgICBib2R5IHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwdmg7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgIH1cbiAgICAgIHJpY2gtdGV4dC1lZGl0b3Ige1xuICAgICAgICAtLWVkaXRvci13aWR0aDogMTAwJTtcbiAgICAgICAgLS1lZGl0b3ItaGVpZ2h0OiAxMDB2aDtcbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuICA8L2hlYWQ-XG4gIDxib2R5PlxuICAgIDxyaWNoLXRleHQtZWRpdG9yPlxuICAgICAgPHRlbXBsYXRlPlxuICAgICAgICA8aDE-SGVhZGxpbmUgMTwvaDE-XG4gICAgICAgIDxwPlRoaXMgaXMgYSBwYXJhZ3JhcGguPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDAsIDApXCJcbiAgICAgICAgICAgID48Zm9udCBjb2xvcj1cIiNmZmZmZmZcIj5TdHlsZWQgVGV4dDwvZm9udD48L3NwYW5cbiAgICAgICAgICA-XG4gICAgICAgIDwvcD5cbiAgICAgIDwvdGVtcGxhdGU-XG4gICAgPC9yaWNoLXRleHQtZWRpdG9yPlxuICA8L2JvZHk-XG48L2h0bWw-XG4ifV0).
